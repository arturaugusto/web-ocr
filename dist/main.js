!function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e){t.exports=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`},function(t,e){let r=!1;e.logging=r,e.setLogging=t=>{r=t},e.log=(...t)=>r?console.log.apply(this,t):null},function(t,e){var r,a,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(t){a=i}}();var l,c=[],h=!1,u=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!h){var t=s(d);h=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,h=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new g(t,e)),1!==c.length||h||s(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){var a,n;void 0===(n="function"==typeof(a=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var a,n=document.createElement("a"),o=1;o<t;o++)n.href=arguments[o],a=n.href,e.href=a;return r.removeChild(e),a}})?a.call(e,r,e,t):a)||(t.exports=n)},function(t,e,r){const a=r(0);let n=0;t.exports=({id:t,action:e,payload:r={}})=>{let o=t;return void 0===o&&(o=a("Job",n),n+=1),{id:o,action:e,payload:r}}},function(t,e,r){const a=r(12),n=r(15),o=r(4),{log:i}=r(1),s=r(0),{defaultOEM:l}=r(16),{defaultOptions:c,spawnWorker:h,terminateWorker:u,onMessage:d,loadImage:f,send:g}=r(17);let p=0;t.exports=(t={})=>{const e=s("Worker",p),{logger:r,errorHandler:v,...m}=a({...c,...t}),y={},w={};let b=h(m);p+=1;const F=(t,e)=>{y[t]=e},x=(t,e)=>{w[t]=e},E=({id:t,action:r,payload:a})=>new Promise((n,o)=>{i(`[${e}]: Start ${t}, action=${r}`),F(r,n),x(r,o),g(b,{workerId:e,jobId:t,action:r,payload:a})});return d(b,({workerId:t,jobId:e,status:a,action:o,data:s})=>{if("resolve"===a){i(`[${t}]: Complete ${e}`);let r=s;"recognize"===o?r=n(s):"getPDF"===o&&(r=Array.from({...s,length:Object.keys(s).length})),y[o]({jobId:e,data:r})}else if("reject"===a){if(w[o](s),!v)throw Error(s);v(s)}else"progress"===a&&r(s)}),{id:e,worker:b,setResolve:F,setReject:x,load:t=>E(o({id:t,action:"load",payload:{options:m}})),writeText:(t,e,r)=>E(o({id:r,action:"FS",payload:{method:"writeFile",args:[t,e]}})),readText:(t,e)=>E(o({id:e,action:"FS",payload:{method:"readFile",args:[t,{encoding:"utf8"}]}})),removeFile:(t,e)=>E(o({id:e,action:"FS",payload:{method:"unlink",args:[t]}})),FS:(t,e,r)=>E(o({id:r,action:"FS",payload:{method:t,args:e}})),loadLanguage:(t="eng",e)=>E(o({id:e,action:"loadLanguage",payload:{langs:t,options:m}})),initialize:(t="eng",e=l,r)=>E(o({id:r,action:"initialize",payload:{langs:t,oem:e}})),setParameters:(t={},e)=>E(o({id:e,action:"setParameters",payload:{params:t}})),recognize:async(t,e={},r)=>E(o({id:r,action:"recognize",payload:{image:await f(t),options:e}})),getPDF:(t="Tesseract OCR Result",e=!1,r)=>E(o({id:r,action:"getPDF",payload:{title:t,textonly:e}})),detect:async(t,e)=>E(o({id:e,action:"detect",payload:{image:await f(t)}})),terminate:async()=>(null!==b&&(u(b),b=null),Promise.resolve())}}},function(t,e){t.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},function(t,e,r){r(8);const{createWorker:a,createScheduler:n,PSM:o}=r(9),i=r(28);var s=document.getElementById("canvas"),l=[30,30,200,100],c=!1;var h=document.getElementById("canvas0"),u=h.getContext("2d");["mousedown","mousemove","mouseup"].forEach(t=>{h.addEventListener(t,t=>function(t){t.target.getBoundingClientRect();const e=t.offsetX||t.layerX,r=t.offsetY||t.layerY;return"mousedown"!==t.type||c||(c=!0,l[0]=e,l[2]=e,l[1]=r,l[3]=r),"mousemove"===t.type&&c&&(l[2]=e,l[3]=r),"mouseup"===t.type&&c&&(c=!1),{x:e,y:r}}(t))});var d=document.getElementById("video");d.setAttribute("playsinline",""),d.setAttribute("autoplay",""),d.setAttribute("muted",""),d.addEventListener("resize",(function(t){h.width=d.videoWidth,h.height=d.videoHeight})),d.addEventListener("play",()=>{requestAnimationFrame((function t(){u.drawImage(d,0,0,h.width,h.height),u.fillStyle="#ffffff77",u.fillRect(l[0],l[1],l[2]-l[0],l[3]-l[1]),requestAnimationFrame(t)}))});var f={audio:!1,video:{facingMode:"environment",width:{max:400}}};var g,p={};window.location.search&&(g=window.location.href,p=g.match(/([^?=&]+)(=([^&]*))/g).reduce((t,e)=>(t[e.slice(0,e.indexOf("="))]=e.slice(e.indexOf("=")+1),t),{})),console.log(p);var v=p.font||"digits";"7seg"===v&&(document.getElementById("dilate").value=1,document.getElementById("minconf").value=20),console.log("carregando modelos...");const m=n(),y=a({langPath:"https://arturaugusto.github.io/wocr",gzip:!1});y.load().then(t=>y.loadLanguage(v)).then(t=>y.initialize(v)).then(t=>y.setParameters({tessedit_char_whitelist:"0.123456789eE",tessedit_pageseg_mode:o.SPARSE_TEXT})).finally(t=>{console.log("tesseract ready!"),document.getElementById("loading").style.display="none",m.addWorker(y),navigator.mediaDevices.getUserMedia(f).then((function(t){d.srcObject=t;const e=t.getVideoTracks()[0],r=new ImageCapture(e),a=()=>{r.takePhoto().then(t=>URL.createObjectURL(t)).then(t=>{var e=s.getContext("2d"),r=new Image;let a=[Math.min(l[0],l[2]),Math.min(l[1],l[3]),Math.max(l[0],l[2]),Math.max(l[1],l[3])];r.onload=()=>(e.clearRect(0,0,h.width,h.height),e.drawImage(r,a[0],a[1],a[2]-a[0],a[3]-a[1],0,0,a[2]-a[0],a[3]-a[1]),i.default(e,s,r,a),m.addJob("recognize",s).then(t=>{if(!t.data.lines.length)return;console.log(t.data);let e=t.data.words.filter(t=>t.text.length>1).sort((t,e)=>e.confidence-t.confidence);if(e.length){let t=e[0].text.split(/[ \n]/).filter(t=>t.length>1)[0]||"",r=Math.round(e[0].confidence);if(r>parseFloat(document.getElementById("minconf").value)){let e=(new Date).toISOString().replace("T"," ").replace("Z","");if(document.getElementById("progress").innerText=t,document.getElementById("confidence").innerText=r+" %",document.getElementById("isoString").innerText=e,document.getElementById("confidence").classList=r<70?"has-text-danger":"has-text-success",t.length){let a=t+"\t"+r+"\t"+e.split(".")[0]+"\n";if(p.ws&&(new WebSocket("ws://127.0.0.1:"+ws).onopen=t=>{t.target.send(a),t.target.close()}),document.getElementById("ocrlog").checked){let t=document.getElementById("ocrlogtxt");t.value+=a,t.scrollTop=t.scrollHeight}}}}}),URL.revokeObjectURL(t),Promise.resolve(s)),r.src=t}).catch(t=>console.error("takePhoto() error:",t)).finally(()=>{window.setTimeout(a,parseFloat(document.getElementById("loginterval").value))})};a()})).catch(t=>console.error("getUserMedia() error:",t))})},function(t,e,r){},function(t,e,r){r(10);const a=r(11),n=r(5),o=r(26),i=r(6),s=r(27),{setLogging:l}=r(1);t.exports={OEM:i,PSM:s,createScheduler:a,createWorker:n,setLogging:l,...o}},function(t,e,r){var a=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,a){var n=e&&e.prototype instanceof u?e:u,o=Object.create(n.prototype),i=new E(a||[]);return o._invoke=function(t,e,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return M()}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var s=b(i,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var l=c(t,e,r);if("normal"===l.type){if(a=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function u(){}function d(){}function f(){}var g={};g[n]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(I([])));v&&v!==e&&r.call(v,n)&&(g=v);var m=f.prototype=u.prototype=Object.create(g);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var a;this._invoke=function(n,o){function i(){return new e((function(a,i){!function a(n,o,i,s){var l=c(t[n],t,o);if("throw"!==l.type){var h=l.arg,u=h.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,i,s)}),(function(t){a("throw",t,i,s)})):e.resolve(u).then((function(t){h.value=t,i(h)}),(function(t){return a("throw",t,i,s)}))}s(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=c(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,h;var n=a.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function I(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return d.prototype=m.constructor=f,f.constructor=d,d.displayName=s(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(w.prototype),w.prototype[o]=function(){return this},t.AsyncIterator=w,t.async=function(e,r,a,n,o){void 0===o&&(o=Promise);var i=new w(l(e,r,a,n),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(m),s(m,i,"Generator"),m[n]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var a=e.pop();if(a in t)return r.value=a,r.done=!1,r}return r.done=!0,r}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(r,a){return i.type="throw",i.arg=t,e.next=r,a&&(e.method="next",e.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var a=r.completion;if("throw"===a.type){var n=a.arg;x(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:I(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}(t.exports);try{regeneratorRuntime=a}catch(t){Function("r","regeneratorRuntime = r")(a)}},function(t,e,r){const a=r(4),{log:n}=r(1),o=r(0);let i=0;t.exports=()=>{const t=o("Scheduler",i),e={},r={};let s=[];i+=1;const l=()=>Object.keys(e).length,c=()=>{if(0!==s.length){const t=Object.keys(e);for(let a=0;a<t.length;a+=1)if(void 0===r[t[a]]){s[0](e[t[a]]);break}}},h=(e,o)=>new Promise((i,l)=>{const h=a({action:e,payload:o});s.push(async t=>{s.shift(),r[t.id]=h;try{i(await t[e].apply(this,[...o,h.id]))}catch(t){l(t)}finally{delete r[t.id],c()}}),n(`[${t}]: Add ${h.id} to JobQueue`),n(`[${t}]: JobQueue length=${s.length}`),c()});return{addWorker:r=>(e[r.id]=r,n(`[${t}]: Add ${r.id}`),n(`[${t}]: Number of workers=${l()}`),c(),r.id),addJob:async(e,...r)=>{if(0===l())throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return h(e,r)},terminate:async()=>{Object.keys(e).forEach(async t=>{await e[t].terminate()}),s=[]},getQueueLen:()=>s.length,getNumWorkers:l}}},function(t,e,r){const a="browser"===r(13)("type")?r(3):t=>t;t.exports=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(r=>{void 0!==t[r]&&(e[r]=a(e[r]))}),e}},function(t,e,r){(function(e){const a=r(14);t.exports=t=>{const r={};return a()?r.type="electron":"object"==typeof window?r.type="browser":"function"==typeof importScripts?r.type="webworker":"object"==typeof e&&(r.type="node"),void 0===t?r:r[t]}}).call(this,r(2))},function(t,e,r){(function(e){t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===e||"object"!=typeof e.versions||!e.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,r(2))},function(t,e){t.exports=t=>{const e=[],r=[],a=[],n=[],o=[];return t.blocks.forEach(i=>{i.paragraphs.forEach(e=>{e.lines.forEach(r=>{r.words.forEach(a=>{a.symbols.forEach(n=>{o.push({...n,page:t,block:i,paragraph:e,line:r,word:a})}),n.push({...a,page:t,block:i,paragraph:e,line:r})}),a.push({...r,page:t,block:i,paragraph:e})}),r.push({...e,page:t,block:i})}),e.push({...i,page:t})}),{...t,blocks:e,paragraphs:r,lines:a,words:n,symbols:o}}},function(t,e,r){const a=r(6);t.exports={defaultOEM:a.DEFAULT}},function(t,e,r){const a=r(18),n=r(21),o=r(22),i=r(23),s=r(24),l=r(25);t.exports={defaultOptions:a,spawnWorker:n,terminateWorker:o,onMessage:i,send:s,loadImage:l}},function(t,e,r){(function(e){const a=r(3),{version:n,dependencies:o}=r(19),i=r(20);t.exports={...i,workerPath:void 0!==e&&"development"===e.env.TESS_ENV?a("/dist/worker.dev.js?nocache="+Math.random().toString(36).slice(3)):`https://unpkg.com/tesseract.js@v${n}/dist/worker.min.js`,corePath:`https://unpkg.com/tesseract.js-core@v${o["tesseract.js-core"].substring(1)}/tesseract-core.${"object"==typeof WebAssembly?"wasm":"asm"}.js`}}).call(this,r(2))},function(t){t.exports=JSON.parse('{"name":"tesseract.js","version":"2.1.1","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7","acorn":"^6.4.0","babel-loader":"^8.0.6","cors":"^2.8.5","eslint":"^5.16.0","eslint-config-airbnb":"^17.1.1","eslint-plugin-import":"^2.19.1","eslint-plugin-jsx-a11y":"^6.2.3","eslint-plugin-react":"^7.17.0","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^15.0.0","rimraf":"^2.7.1","wait-on":"^3.3.0","webpack":"^4.41.4","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.10","webpack-dev-middleware":"^3.7.2"},"dependencies":{"bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.2.0","zlibjs":"^0.3.1"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')},function(t,e){t.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},function(t,e){t.exports=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const e=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(e))}else r=new Worker(t);return r}},function(t,e){t.exports=t=>{t.terminate()}},function(t,e){t.exports=(t,e)=>{t.onmessage=({data:t})=>{e(t)}}},function(t,e){t.exports=async(t,e)=>{t.postMessage(e)}},function(t,e,r){const a=r(3),n=t=>new Promise((e,r)=>{const a=new FileReader;a.onload=()=>{e(a.result)},a.onerror=({target:{error:{code:t}}})=>{r(Error("File could not be read! Code="+t))},a.readAsArrayBuffer(t)}),o=async t=>{let e=t;if(void 0===t)return"undefined";if("string"==typeof t)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t))e=atob(t.split(",")[1]).split("").map(t=>t.charCodeAt(0));else{const r=await fetch(a(t));e=await r.arrayBuffer()}else t instanceof HTMLElement?("IMG"===t.tagName&&(e=await o(t.src)),"VIDEO"===t.tagName&&(e=await o(t.poster)),"CANVAS"===t.tagName&&await new Promise(r=>{t.toBlob(async t=>{e=await n(t),r()})})):(t instanceof File||t instanceof Blob)&&(e=await n(t));return new Uint8Array(e)};t.exports=o},function(t,e,r){const a=r(5);t.exports={recognize:async(t,e,r)=>{const n=a(r);return await n.load(),await n.loadLanguage(e),await n.initialize(e),n.recognize(t).finally(async()=>{await n.terminate()})},detect:async(t,e)=>{const r=a(e);return await r.load(),await r.loadLanguage("osd"),await r.initialize("osd"),r.detect(t).finally(async()=>{await r.terminate()})}}},function(t,e){t.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},function(t,e,r){"use strict";r.r(e);const{Filters:a}=r(29);e.default=function(t,e,r,n){var o=r.width,i=r.height;!function(t,e,r){for(var a=t.getImageData(0,0,e,r),n=a.data,o=0;o<n.length;o+=4){var i=.2126*n[o]+.7152*n[o+1]+.0722*n[o+2];n[o]=i,n[o+1]=i,n[o+2]=i}t.putImageData(a,0,0)}(t,o,i);var s=1/(parseFloat(document.getElementById("gamma").value)/10),l=t.getImageData(0,0,e.width,e.height);function c(t,r){var a=4*parseInt(t+e.width*r);return{r:l.data[a+0],g:l.data[a+1],b:l.data[a+2]}}for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){var h=c(r,t),u=(h={r:255*Math.pow(h.r/255,s),g:255*Math.pow(h.g/255,s),b:255*Math.pow(h.b/255,s)},4*parseInt(r+e.width*t)),d=l.data;d[u+0]=h.r,d[u+1]=h.g,d[u+2]=h.b}t.putImageData(l,0,0),function(t,e,r,a){for(var n,o=e.getImageData(0,0,r,a),i=o.data,s=0;s<i.length;s+=4){var l=.2126*i[s]+.7152*i[s+1]+.0722*i[s+2];n=document.getElementById("inverter").checked?l>t?0:255:l>t?255:0,i[s]=n,i[s+1]=n,i[s+2]=n}e.putImageData(o,0,0)}(function(t,e){for(var r=0,a=1;a<256;++a)r+=a*t[a];var n,o,i=0,s=0,l=0,c=0,h=0,u=0,d=0;for(a=0;a<256;++a)if(0!=(s+=t[a])){if(0==(l=e-s))break;n=(i+=a*t[a])/s,o=(r-i)/l,(h=s*l*Math.pow(n-o,2))>=c&&(u=a,h>c&&(d=a),c=h)}return(u+d)/2}(function(t,e,r){for(var a,n=t.getImageData(0,0,e,r).data,o=Array.apply(null,new Array(256)).map(Number.prototype.valueOf,0),i=0;i<n.length;i+=4)a=.2126*n[i]+.7152*n[i+1]+.0722*n[i+2],o[Math.floor(a)]+=1;return o}(t,o,i),o*i),t,o,i);let f=~~document.getElementById("dilate").value;f&&(l=t.getImageData(0,0,e.width,e.height),l=a.invert(l),1===f&&(l=a.convolve(l,[1,1,1,1,1,1,1,1,1]),l=a.invert(l),t.putImageData(l,0,0,0,0,n[2]-n[0]-1,n[3]-n[1]-1)),2===f&&(l=a.convolve(l,[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),l=a.invert(l),t.putImageData(l,0,0,0,0,n[2]-n[0]-1,n[3]-n[1]-1)))}},function(t,e,r){Filters={},"undefined"==typeof Float32Array?Filters.getFloat32Array=Filters.getUint8Array=function(t){return t.length?t.slice(0):new Array(t)}:(Filters.getFloat32Array=function(t){return new Float32Array(t)},Filters.getUint8Array=function(t){return new Uint8Array(t)}),"undefined"!=typeof document?(Filters.tmpCanvas=document.createElement("canvas"),Filters.tmpCtx=Filters.tmpCanvas.getContext("2d"),Filters.getPixels=function(t){var e,r;if(t.getContext){e=t;try{r=e.getContext("2d")}catch(t){}}return r||(r=(e=this.getCanvas(t.width,t.height)).getContext("2d")).drawImage(t,0,0),r.getImageData(0,0,e.width,e.height)},Filters.createImageData=function(t,e){return this.tmpCtx.createImageData(t,e)},Filters.getCanvas=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},Filters.filterImage=function(t,e,r){for(var a=[this.getPixels(e)],n=2;n<arguments.length;n++)a.push(arguments[n]);return t.apply(this,a)},Filters.toCanvas=function(t){var e=this.getCanvas(t.width,t.height);return e.getContext("2d").putImageData(t,0,0),e},Filters.toImageData=function(t){return this.identity(t)}):(onmessage=function(t){var e=t.data;e.length||(e=[e]),postMessage(Filters.runPipeline(e))},Filters.createImageData=function(t,e){return{width:t,height:e,data:this.getFloat32Array(t*e*4)}}),Filters.runPipeline=function(t){var e=null;e=this[t[0].name].apply(this,t[0].args);for(var r=1;r<t.length;r++){var a=t[r],n=a.args.slice(0);n.unshift(e),e=this[a.name].apply(this,n)}return e},Filters.createImageDataFloat32=function(t,e){return{width:t,height:e,data:this.getFloat32Array(t*e*4)}},Filters.identity=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=r.data,n=t.data,o=0;o<n.length;o++)a[o]=n[o];return r},Filters.horizontalFlip=function(t){for(var e=Filters.createImageData(t.width,t.height),r=t.width,a=t.height,n=e.data,o=t.data,i=0;i<a;i++)for(var s=0;s<r;s++){var l=4*(i*r+s),c=4*(i*r+(r-s-1));n[c]=o[l],n[c+1]=o[l+1],n[c+2]=o[l+2],n[c+3]=o[l+3]}return e},Filters.verticalFlip=function(t){for(var e=Filters.createImageData(t.width,t.height),r=t.width,a=t.height,n=e.data,o=t.data,i=0;i<a;i++)for(var s=0;s<r;s++){var l=4*(i*r+s),c=4*((a-i-1)*r+s);n[c]=o[l],n[c+1]=o[l+1],n[c+2]=o[l+2],n[c+3]=o[l+3]}return e},Filters.luminance=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=r.data,n=t.data,o=0;o<n.length;o+=4){var i=.2126*n[o]+.7152*n[o+1]+.0722*n[o+2];a[o]=a[o+1]=a[o+2]=i,a[o+3]=n[o+3]}return r},Filters.grayscale=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=r.data,n=t.data,o=0;o<n.length;o+=4){var i=.3*n[o]+.59*n[o+1]+.11*n[o+2];a[o]=a[o+1]=a[o+2]=i,a[o+3]=n[o+3]}return r},Filters.grayscaleAvg=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=r.data,n=t.data,o=0;o<n.length;o+=4){var i=(n[o]+n[o+1]+n[o+2])*(1/3);a[o]=a[o+1]=a[o+2]=i,a[o+3]=n[o+3]}return r},Filters.threshold=function(t,e,r,a){var n=Filters.createImageData(t.width,t.height);null==r&&(r=255),null==a&&(a=0);for(var o=t.data,i=n.data,s=0;s<o.length;s+=4){var l=.3*o[s]+.59*o[s+1]+.11*o[s+2]>=e?r:a;i[s]=i[s+1]=i[s+2]=l,i[s+3]=o[s+3]}return n},Filters.invert=function(t){for(var e=Filters.createImageData(t.width,t.height),r=t.data,a=e.data,n=0;n<r.length;n+=4)a[n]=255-r[n],a[n+1]=255-r[n+1],a[n+2]=255-r[n+2],a[n+3]=r[n+3];return e},Filters.brightnessContrast=function(t,e,r){var a=this.brightnessContrastLUT(e,r);return this.applyLUT(t,{r:a,g:a,b:a,a:this.identityLUT()})},Filters.applyLUT=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=r.data,o=e.r,i=e.g,s=e.b,l=e.a,c=0;c<a.length;c+=4)n[c]=o[a[c]],n[c+1]=i[a[c+1]],n[c+2]=s[a[c+2]],n[c+3]=l[a[c+3]];return r},Filters.createLUTFromCurve=function(t){for(var e=this.getUint8Array(256),r=[0,0],a=0,n=0;a<e.length;a++){for(;n<t.length&&t[n][0]<a;)r=t[n],n++;e[a]=r[1]}return e},Filters.identityLUT=function(){for(var t=this.getUint8Array(256),e=0;e<t.length;e++)t[e]=e;return t},Filters.invertLUT=function(){for(var t=this.getUint8Array(256),e=0;e<t.length;e++)t[e]=255-e;return t},Filters.brightnessContrastLUT=function(t,e){for(var r=this.getUint8Array(256),a=-128*e+128+255*t,n=0;n<r.length;n++){var o=n*e+a;r[n]=o<0?0:o>255?255:o}return r},Filters.convolve=function(t,e,r){for(var a=Math.round(Math.sqrt(e.length)),n=Math.floor(a/2),o=t.data,i=t.width,s=t.height,l=i,c=s,h=Filters.createImageData(l,c),u=h.data,d=r?1:0,f=0;f<c;f++)for(var g=0;g<l;g++){for(var p=f,v=g,m=4*(f*l+g),y=0,w=0,b=0,F=0,x=0;x<a;x++)for(var E=0;E<a;E++){var I=4*(Math.min(s-1,Math.max(0,p+x-n))*i+Math.min(i-1,Math.max(0,v+E-n))),M=e[x*a+E];y+=o[I]*M,w+=o[I+1]*M,b+=o[I+2]*M,F+=o[I+3]*M}u[m]=y,u[m+1]=w,u[m+2]=b,u[m+3]=F+d*(255-F)}return h},Filters.verticalConvolve=function(t,e,r){for(var a=e.length,n=Math.floor(a/2),o=t.data,i=t.width,s=t.height,l=i,c=s,h=Filters.createImageData(l,c),u=h.data,d=r?1:0,f=0;f<c;f++)for(var g=0;g<l;g++){for(var p=f,v=g,m=4*(f*l+g),y=0,w=0,b=0,F=0,x=0;x<a;x++){var E=4*(Math.min(s-1,Math.max(0,p+x-n))*i+v),I=e[x];y+=o[E]*I,w+=o[E+1]*I,b+=o[E+2]*I,F+=o[E+3]*I}u[m]=y,u[m+1]=w,u[m+2]=b,u[m+3]=F+d*(255-F)}return h},Filters.horizontalConvolve=function(t,e,r){for(var a=e.length,n=Math.floor(a/2),o=t.data,i=t.width,s=i,l=t.height,c=Filters.createImageData(s,l),h=c.data,u=r?1:0,d=0;d<l;d++)for(var f=0;f<s;f++){for(var g=d,p=f,v=4*(d*s+f),m=0,y=0,w=0,b=0,F=0;F<a;F++){var x=4*(g*i+Math.min(i-1,Math.max(0,p+F-n))),E=e[F];m+=o[x]*E,y+=o[x+1]*E,w+=o[x+2]*E,b+=o[x+3]*E}h[v]=m,h[v+1]=y,h[v+2]=w,h[v+3]=b+u*(255-b)}return c},Filters.separableConvolve=function(t,e,r,a){return this.horizontalConvolve(this.verticalConvolveFloat32(t,r,a),e,a)},Filters.convolveFloat32=function(t,e,r){for(var a=Math.round(Math.sqrt(e.length)),n=Math.floor(a/2),o=t.data,i=t.width,s=t.height,l=i,c=s,h=Filters.createImageDataFloat32(l,c),u=h.data,d=r?1:0,f=0;f<c;f++)for(var g=0;g<l;g++){for(var p=f,v=g,m=4*(f*l+g),y=0,w=0,b=0,F=0,x=0;x<a;x++)for(var E=0;E<a;E++){var I=4*(Math.min(s-1,Math.max(0,p+x-n))*i+Math.min(i-1,Math.max(0,v+E-n))),M=e[x*a+E];y+=o[I]*M,w+=o[I+1]*M,b+=o[I+2]*M,F+=o[I+3]*M}u[m]=y,u[m+1]=w,u[m+2]=b,u[m+3]=F+d*(255-F)}return h},Filters.verticalConvolveFloat32=function(t,e,r){for(var a=e.length,n=Math.floor(a/2),o=t.data,i=t.width,s=t.height,l=i,c=s,h=Filters.createImageDataFloat32(l,c),u=h.data,d=r?1:0,f=0;f<c;f++)for(var g=0;g<l;g++){for(var p=f,v=g,m=4*(f*l+g),y=0,w=0,b=0,F=0,x=0;x<a;x++){var E=4*(Math.min(s-1,Math.max(0,p+x-n))*i+v),I=e[x];y+=o[E]*I,w+=o[E+1]*I,b+=o[E+2]*I,F+=o[E+3]*I}u[m]=y,u[m+1]=w,u[m+2]=b,u[m+3]=F+d*(255-F)}return h},Filters.horizontalConvolveFloat32=function(t,e,r){for(var a=e.length,n=Math.floor(a/2),o=t.data,i=t.width,s=i,l=t.height,c=Filters.createImageDataFloat32(s,l),h=c.data,u=r?1:0,d=0;d<l;d++)for(var f=0;f<s;f++){for(var g=d,p=f,v=4*(d*s+f),m=0,y=0,w=0,b=0,F=0;F<a;F++){var x=4*(g*i+Math.min(i-1,Math.max(0,p+F-n))),E=e[F];m+=o[x]*E,y+=o[x+1]*E,w+=o[x+2]*E,b+=o[x+3]*E}h[v]=m,h[v+1]=y,h[v+2]=w,h[v+3]=b+u*(255-b)}return c},Filters.separableConvolveFloat32=function(t,e,r,a){return this.horizontalConvolveFloat32(this.verticalConvolveFloat32(t,r,a),e,a)},Filters.gaussianBlur=function(t,e){if((e=Math.abs(e))<=1)return Filters.identity(t);for(var r=e/2,a=Math.ceil(e)+(1-Math.ceil(e)%2),n=this.getFloat32Array(a),o=(r+.5)/3,i=o*o,s=1/Math.sqrt(2*Math.PI*i),l=-1/(2*o*o),c=0,h=Math.floor(a/2),u=0;u<a;u++){var d=u-h,f=s*Math.exp(d*d*l);n[u]=f,c+=f}for(u=0;u<n.length;u++)n[u]/=c;return Filters.separableConvolve(t,n,n,!1)},Filters.laplaceKernel=Filters.getFloat32Array([-1,-1,-1,-1,8,-1,-1,-1,-1]),Filters.laplace=function(t){return Filters.convolve(t,this.laplaceKernel,!0)},Filters.sobelSignVector=Filters.getFloat32Array([-1,0,1]),Filters.sobelScaleVector=Filters.getFloat32Array([1,2,1]),Filters.sobelVerticalGradient=function(t){return this.separableConvolveFloat32(t,this.sobelSignVector,this.sobelScaleVector)},Filters.sobelHorizontalGradient=function(t){return this.separableConvolveFloat32(t,this.sobelScaleVector,this.sobelSignVector)},Filters.sobelVectors=function(t){for(var e=this.sobelVerticalGradient(t),r=this.sobelHorizontalGradient(t),a={width:e.width,height:e.height,data:this.getFloat32Array(e.width*e.height*8)},n=e.data,o=r.data,i=a.data,s=0,l=0;s<i.length;s+=2,l++)i[s]=o[l],i[s+1]=n[l];return a},Filters.sobel=function(t){t=this.grayscale(t);for(var e=this.sobelVerticalGradient(t),r=this.sobelHorizontalGradient(t),a=this.createImageData(e.width,e.height),n=0;n<a.data.length;n+=4){var o=Math.abs(e.data[n]);a.data[n]=o;var i=Math.abs(r.data[n]);a.data[n+1]=i,a.data[n+2]=(o+i)/4,a.data[n+3]=255}return a},Filters.bilinearSample=function(t,e,r,a){var n=Math.floor(e),o=Math.ceil(e),i=Math.floor(r),s=Math.ceil(r),l=4*(n+t.width*i),c=4*(o+t.width*i),h=4*(n+t.width*s),u=4*(o+t.width*s),d=e-n+(r-i),f=o-e+(r-i),g=e-n+(s-r),p=o-e+(s-r),v=1/(p+g+f+d);p*=v,g*=v,f*=v,d*=v;var m=t.data;return a[0]=m[l]*p+m[c]*g+m[h]*f+m[u]*d,a[1]=m[l+1]*p+m[c+1]*g+m[h+1]*f+m[u+1]*d,a[2]=m[l+2]*p+m[c+2]*g+m[h+2]*f+m[u+2]*d,a[3]=m[l+3]*p+m[c+3]*g+m[h+3]*f+m[u+3]*d,a},Filters.distortSine=function(t,e,r){null==e&&(e=.5),null==r&&(r=e);for(var a=this.createImageData(t.width,t.height),n=a.data,o=(t.data,this.createImageData(1,1).data),i=0;i<a.height;i++){var s=i+-Math.sin(i/(a.height-1)*Math.PI*2)*r*a.height/4;s=Math.max(Math.min(s,a.height-1),0);for(var l=0;l<a.width;l++){var c=l+-Math.sin(l/(a.width-1)*Math.PI*2)*e*a.width/4;c=Math.max(Math.min(c,a.width-1),0);var h=this.bilinearSample(t,c,s,o),u=4*(i*a.width+l);n[u]=h[0],n[u+1]=h[1],n[u+2]=h[2],n[u+3]=h[3]}}return a},Filters.darkenBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=0;i<a.length;i+=4)o[i]=a[i]<n[i]?a[i]:n[i],o[i+1]=a[i+1]<n[i+1]?a[i+1]:n[i+1],o[i+2]=a[i+2]<n[i+2]?a[i+2]:n[i+2],o[i+3]=a[i+3]+(255-a[i+3])*n[i+3]*(1/255);return r},Filters.lightenBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=0;i<a.length;i+=4)o[i]=a[i]>n[i]?a[i]:n[i],o[i+1]=a[i+1]>n[i+1]?a[i+1]:n[i+1],o[i+2]=a[i+2]>n[i+2]?a[i+2]:n[i+2],o[i+3]=a[i+3]+(255-a[i+3])*n[i+3]*(1/255);return r},Filters.multiplyBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=1/255,s=0;s<a.length;s+=4)o[s]=a[s]*n[s]*i,o[s+1]=a[s+1]*n[s+1]*i,o[s+2]=a[s+2]*n[s+2]*i,o[s+3]=a[s+3]+(255-a[s+3])*n[s+3]*i;return r},Filters.screenBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=1/255,s=0;s<a.length;s+=4)o[s]=a[s]+n[s]-a[s]*n[s]*i,o[s+1]=a[s+1]+n[s+1]-a[s+1]*n[s+1]*i,o[s+2]=a[s+2]+n[s+2]-a[s+2]*n[s+2]*i,o[s+3]=a[s+3]+(255-a[s+3])*n[s+3]*i;return r},Filters.addBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=0;i<a.length;i+=4)o[i]=a[i]+n[i],o[i+1]=a[i+1]+n[i+1],o[i+2]=a[i+2]+n[i+2],o[i+3]=a[i+3]+(255-a[i+3])*n[i+3]*(1/255);return r},Filters.subBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=0;i<a.length;i+=4)o[i]=a[i]+n[i]-255,o[i+1]=a[i+1]+n[i+1]-255,o[i+2]=a[i+2]+n[i+2]-255,o[i+3]=a[i+3]+(255-a[i+3])*n[i+3]*(1/255);return r},Filters.differenceBlend=function(t,e){for(var r=Filters.createImageData(t.width,t.height),a=t.data,n=e.data,o=r.data,i=0;i<a.length;i+=4)o[i]=Math.abs(a[i]-n[i]),o[i+1]=Math.abs(a[i+1]-n[i+1]),o[i+2]=Math.abs(a[i+2]-n[i+2]),o[i+3]=a[i+3]+(255-a[i+3])*n[i+3]*(1/255);return r},Filters.erode=function(t){for(var e=t.data,r=t.width,a=r,n=t.height,o=Filters.createImageData(a,n),i=o.data,s=0;s<n;s++)for(var l=0;l<a;l++){var c=s,h=l,u=4*(s*a+l),d=0;0==e[4*(c*r+h)]?0==e[4*(c*r+Math.max(0,h-1))]&&0==e[4*(Math.max(0,c-1)*r+h)]&&(d=255):d=255,i[u]=d,i[u+1]=d,i[u+2]=d,i[u+3]=255}return o},e.Filters=Filters}]);